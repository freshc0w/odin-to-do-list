(()=>{"use strict";class t{constructor(t,e,s,i,o){this.name=t,this.description=e,this.dueDate=s,this.priority=i,this.id=o}set name(t){this._name=t}get name(){return this._name}get id(){return this._id}set id(t){this._id=t}get priority(){return this._priority}set priority(t){this._priority=t}get description(){return this._description}set description(t){this._description=t}get dueDate(){return this._dueDate}set dueDate(t){this._dueDate=t}get dueDateFormatted(){return`${this.dueDate.split("/")[0]}/${this.dueDate.split("/")[1]}/${this.dueDate.split("/")[2]}`}}class e{constructor(t){this.name=t,this.tasks=[]}get name(){return this._name}set name(t){this._name=t}get tasks(){return this._tasks}set tasks(t){this._tasks=t}addTask(t){this._tasks.push(t)}deleteTask(t){this._tasks=this._tasks.filter((e=>e.getId()!==t))}}class s{constructor(){this.projects=[],this.projects.push(new e("Inbox")),this.projects.push(new e("Today")),this.projects.push(new e("This Week"))}get projects(){return this._projects}set projects(t){this._projects=t}contains(t){return this.projects.some((e=>e.name===t))}getProject(t){return this.projects.find((e=>e.name===t))}addProject(t){this.contains(t)||this.projects.push(new e(t))}deleteProject(t){const e=this.projects.find((e=>e.name===t));this.projects.splice(this.projects.indexOf(e),1)}}class i{constructor(t){this.task=t}renderInfo(t,e,s=""){const i=document.createElement(t);return i.classList.add(e),i.textContent=s,i}createElements(){const t=this.renderInfo("input","statusCheck");t.setAttribute("type","checkbox");const e=this.renderInfo("div","taskName",this.task.name),s=this.renderInfo("button","taskDetailsBtn","Details"),i=this.renderInfo("div","statusPrio"),o=this.renderInfo("i","material-icons","warning");o.classList.add(this.task.priority),i.appendChild(o);const n=Date.now(),r=new Date(n),a=this.renderInfo("div","taskDate",`${r.toLocaleDateString()}`),d=this.renderInfo("div","taskEdit"),c=this.renderInfo("i","material-icons","edit");d.appendChild(c);const h=this.renderInfo("div","taskDel"),l=this.renderInfo("i","material-icons","delete");return h.appendChild(l),[t,e,s,i,a,d,h]}draw(){const t=this.renderInfo("div","task-container"),e=this.createElements();for(let s of e)t.appendChild(s);return t}}class o{constructor(t){this.project=t}draw(){const t=document.querySelector("#main-content");this.clear(t),this.drawTasks(t,this.project.tasks)}drawTasks(t,e){for(let s of e){const e=new i(s);t.appendChild(e.draw())}}clear(t){t.innerHTML=""}}class n{constructor(){this.toDoList=new s}loadHomePage(){n.addSideBarFunc(),console.log(this.toDoList.getProject("Inbox")),this.toDoList.getProject("Inbox").addTask(new t("Walking the dog","He is asking for it so this task is a must","today","high",this.toDoList.getProject("Inbox").tasks.length));for(let t of this.toDoList.getProject("Inbox").tasks)new i(t).draw();new o(this.toDoList.getProject("Inbox")).draw(),console.log(this.toDoList.getProject("Inbox").tasks),console.log(this.toDoList.getProject("Today").name),this.addInboxTabs()}addInboxTabs(){const t=document.createElement("ul");this.addTab(t,"Today"),this.addTab(t,"This Week"),document.querySelector(".inbox-bar").appendChild(t)}addTab(t,e){const s=document.createElement("li");s.textContent=this.toDoList.getProject(e).name,t.appendChild(s)}static addSideBarFunc(){const t=document.getElementById("sideBar");document.querySelectorAll(".material-icons"),document.querySelectorAll(".icon-text"),t.addEventListener("mouseover",(()=>{t.style.width="200px"})),t.addEventListener("mouseout",(()=>{t.style.width="65px"}))}}(new n).loadHomePage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBUUcsaUJBQWlCLFlBQVksS0FDakNILEVBQVFJLE1BQU1DLE1BQVEsTUFBTSxHQUdwQyxHQy9Ea0IsSUFBSWxCLEdBRVpFLGMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLXRvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy90YXNrLmpzIiwid2VicGFjazovL29kaW4tdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby1saXN0Ly4vc3JjL21vZHVsZXMvQWxsUHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby1saXN0Ly4vc3JjL21vZHVsZXMvVUkvUHJvamVjdFVJLmpzIiwid2VicGFjazovL29kaW4tdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL1VJLmpzIiwid2VicGFjazovL29kaW4tdG8tZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBUYXNrIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIGlkKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICB0aGlzLmlkID0gaWQ7IC8vIFRvIGFsbG93IGRlbGV0aW9uIG9mIHRhc2sgd2l0aCB0aGUgc2FtZSBuYW1lO1xuICAgICAgICBcbiAgICB9XG4gICAgc2V0IG5hbWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfTtcbiAgICBcblxuICAgIGdldCBpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgIH07XG4gICAgc2V0IGlkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2lkID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBwcmlvcml0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByaW9yaXR5O1xuICAgIH1cbiAgICBzZXQgcHJpb3JpdHkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcHJpb3JpdHkgPSB2YWx1ZTtcbiAgICB9XG4gICAgXG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzY3JpcHRpb247XG4gICAgfTtcbiAgICBzZXQgZGVzY3JpcHRpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgZ2V0IGR1ZURhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kdWVEYXRlO1xuICAgIH07XG4gICAgc2V0IGR1ZURhdGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZHVlRGF0ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgZHVlRGF0ZUZvcm1hdHRlZCgpIHtcbiAgICAgICAgY29uc3QgZGF5ID0gdGhpcy5kdWVEYXRlLnNwbGl0KCcvJylbMF07XG4gICAgICAgIGNvbnN0IG1vbnRoID0gdGhpcy5kdWVEYXRlLnNwbGl0KCcvJylbMV07XG4gICAgICAgIGNvbnN0IHllYXIgPSB0aGlzLmR1ZURhdGUuc3BsaXQoJy8nKVsyXTtcblxuICAgICAgICByZXR1cm4gYCR7ZGF5fS8ke21vbnRofS8ke3llYXJ9YDtcbiAgICB9O1xufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9qZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudGFza3MgPSBbXTtcbiAgICB9O1xuICAgIFxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9O1xuICAgIHNldCBuYW1lKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSB2YWx1ZTtcbiAgICB9O1xuICAgIGdldCB0YXNrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rhc2tzO1xuICAgIH07XG4gICAgc2V0IHRhc2tzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3Rhc2tzID0gdmFsdWU7XG4gICAgfVxuICAgIGFkZFRhc2sodGFzaykge1xuICAgICAgICB0aGlzLl90YXNrcy5wdXNoKHRhc2spOyAgICAgICAgXG4gICAgfTtcbiAgICBkZWxldGVUYXNrKHRhc2tJZCkge1xuICAgICAgICB0aGlzLl90YXNrcyA9IHRoaXMuX3Rhc2tzLmZpbHRlcih0YXNrID0+IHRhc2suZ2V0SWQoKSAhPT0gdGFza0lkKTtcbiAgICB9O1xuXG4gICAgLy8gVG8gYmUgYWRkZWQ6IEdldCB0b2RheSdzIGFuZCB0aGlzIHdlZWsncyB0YXNrcy4gXG59OyIsImltcG9ydCBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCBQcm9qZWN0IGZyb20gXCIuL3Byb2plY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxsUHJvamVjdHMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnByb2plY3RzID0gW107XG4gICAgICAgIHRoaXMucHJvamVjdHMucHVzaChuZXcgUHJvamVjdCgnSW5ib3gnKSk7XG4gICAgICAgIHRoaXMucHJvamVjdHMucHVzaChuZXcgUHJvamVjdCgnVG9kYXknKSk7XG4gICAgICAgIHRoaXMucHJvamVjdHMucHVzaChuZXcgUHJvamVjdCgnVGhpcyBXZWVrJykpO1xuICAgIH07XG5cbiAgICBnZXQgcHJvamVjdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9qZWN0cztcbiAgICB9O1xuICAgIHNldCBwcm9qZWN0cyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9wcm9qZWN0cyA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHByb2plY3QgbmFtZSBleGlzdHMgaW4gbGlzdCBvZiBwcm9qZWN0cy5cbiAgICBjb250YWlucyhwcm9qZWN0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0cy5zb21lKHByb2plY3QgPT4gcHJvamVjdC5uYW1lID09PSBwcm9qZWN0TmFtZSk7XG4gICAgfTtcblxuICAgIGdldFByb2plY3QocHJvamVjdE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QubmFtZSA9PT0gcHJvamVjdE5hbWUpO1xuICAgIH07XG5cbiAgICBhZGRQcm9qZWN0KG5ld1Byb2plY3ROYW1lKSB7XG4gICAgICAgIC8vIENhbm5vdCBoYXZlIHNhbWUgcHJvamVjdCBuYW1lcy5cbiAgICAgICAgaWYgKHRoaXMuY29udGFpbnMobmV3UHJvamVjdE5hbWUpKSByZXR1cm47XG4gICAgICAgIHRoaXMucHJvamVjdHMucHVzaChuZXcgUHJvamVjdChuZXdQcm9qZWN0TmFtZSkpO1xuICAgIH07XG5cbiAgICBkZWxldGVQcm9qZWN0KHByb2plY3ROYW1lKSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RUb0RlbGV0ZSA9IHRoaXMucHJvamVjdHMuZmluZChwcm9qZWN0ID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0Lm5hbWUgPT09IHByb2plY3ROYW1lKTtcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5zcGxpY2UodGhpcy5wcm9qZWN0cy5pbmRleE9mKHByb2plY3RUb0RlbGV0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEpXG4gICAgfTtcbiAgICBcblxuICAgIC8vIENhbiBhZGQgdG9kYXkncyBhbmQgdGhpcyB3ZWVrJ3MgZnVuY3Rpb25hbGl0eS5cbn07IiwiaW1wb3J0IFRhc2sgZnJvbSBcIi4uL3Rhc2tcIjtcbmltcG9ydCBQcm9qZWN0IGZyb20gXCIuLi9wcm9qZWN0XCI7XG5cbmNsYXNzIFRhc2tVSSB7XG5cbiAgICAvLyBQdXJwb3NlIG9mIHRoaXMgY2xhc3MgaXQgdG8gdGFrZSBpbiBhIHRhc2sgb2JqLCBhbmQgdHVybiBpdCBpbnRvXG4gICAgLy8gYSBkaXYgd2l0aCBhbGwgcmVsZXZhbnQgaW5mb3JtYXRpb24gcmVnYXJkaW5nIHRoZSB0YXNrLlxuICAgIC8vIEZyb20gbGVmdC10by1yaWdodDogW2NoZWNrQm94LCBuYW1lLCBkZXRhaWxzLCBwcmlvcml0eSwgZGF0ZSwgZWRpdEljb24sIGJpbkljb25dXG4gICAgY29uc3RydWN0b3IodGFza09iaikge1xuICAgICAgICB0aGlzLnRhc2sgPSB0YXNrT2JqO1xuICAgIH07XG4gICAgcmVuZGVySW5mbyhlbGVtLCBhZGRlZENsYXNzLCB0ZXh0PScnKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW0pO1xuICAgICAgICBuYW1lLmNsYXNzTGlzdC5hZGQoYWRkZWRDbGFzcyk7XG4gICAgICAgIG5hbWUudGV4dENvbnRlbnQgPSB0ZXh0OyAvLyBkZWZhdWx0IGVtcHR5IHN0clxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5hbWVcbiAgICB9O1xuICAgIGNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICBjb25zdCBzdGF0dXNDaGVjayA9IHRoaXMucmVuZGVySW5mbygnaW5wdXQnLCAnc3RhdHVzQ2hlY2snKTtcbiAgICAgICAgc3RhdHVzQ2hlY2suc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLnJlbmRlckluZm8oJ2RpdicsICd0YXNrTmFtZScsIHRoaXMudGFzay5uYW1lKTtcblxuICAgICAgICAvLyBXaGVuIGNsaWNrZWQsIHBvcCB1cCBhIGZvcm0gd2hlcmUgdGhlIGRldGFpbHMgb2YgdGhlIHRhc2sgaXMgZGlzcGxheWVkLlxuICAgICAgICBjb25zdCBkZXRhaWxzQnRuID0gdGhpcy5yZW5kZXJJbmZvKCdidXR0b24nLCAndGFza0RldGFpbHNCdG4nLCAnRGV0YWlscycpO1xuXG4gICAgICAgIC8vIFByaW9yaXR5IGljb25cbiAgICAgICAgY29uc3QgcHJpb3JpdHkgPSB0aGlzLnJlbmRlckluZm8oJ2RpdicsICdzdGF0dXNQcmlvJyk7XG4gICAgICAgIGNvbnN0IHByaW9yaXR5SWNvbiA9IHRoaXMucmVuZGVySW5mbygnaScsICdtYXRlcmlhbC1pY29ucycsICd3YXJuaW5nJyk7XG5cbiAgICAgICAgLy8gQ2hhbmdlIGNvbG9yIGJhc2VkIG9uIHByaW9yaXR5IG9mIHRhc2sgLT4gWydoaWdoJywgJ21lZGl1bScsICdsb3cnXVxuICAgICAgICBwcmlvcml0eUljb24uY2xhc3NMaXN0LmFkZCh0aGlzLnRhc2sucHJpb3JpdHkpXG4gICAgICAgIHByaW9yaXR5LmFwcGVuZENoaWxkKHByaW9yaXR5SWNvbik7XG5cbiAgICAgICAgLy8gSnVzdCBhIG1vY2sgZGF0ZSBmb3Igbm93LiBTdWJqZWN0IHRvIGNoYW5nZSBiYXNlZCBvbiB1c2VyIGlucHV0LlxuICAgICAgICBjb25zdCB0aW1lRWxhcHNlZCA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUodGltZUVsYXBzZWQpO1xuICAgICAgICBjb25zdCBkYXRlID0gdGhpcy5yZW5kZXJJbmZvKCdkaXYnLCAndGFza0RhdGUnLCBgJHt0b2RheS50b0xvY2FsZURhdGVTdHJpbmcoKX1gKTtcblxuICAgICAgICAvLyBpY29uc1xuICAgICAgICBjb25zdCBlZGl0ID0gdGhpcy5yZW5kZXJJbmZvKCdkaXYnLCAndGFza0VkaXQnKTtcbiAgICAgICAgY29uc3QgZWRpdEljb24gPSB0aGlzLnJlbmRlckluZm8oJ2knLCAnbWF0ZXJpYWwtaWNvbnMnLCAnZWRpdCcpO1xuICAgICAgICBlZGl0LmFwcGVuZENoaWxkKGVkaXRJY29uKTtcblxuICAgICAgICBjb25zdCB0YXNrRGVsID0gdGhpcy5yZW5kZXJJbmZvKCdkaXYnLCAndGFza0RlbCcpO1xuICAgICAgICBjb25zdCBkZWxJY29uID0gdGhpcy5yZW5kZXJJbmZvKCdpJywgJ21hdGVyaWFsLWljb25zJywgJ2RlbGV0ZScpO1xuICAgICAgICB0YXNrRGVsLmFwcGVuZENoaWxkKGRlbEljb24pO1xuXG4gICAgICAgIHJldHVybiBbc3RhdHVzQ2hlY2ssIG5hbWUsIGRldGFpbHNCdG4sIHByaW9yaXR5LCBkYXRlLCBlZGl0LCB0YXNrRGVsXTtcbiAgICB9O1xuICAgIGRyYXcoKSB7XG4gICAgICAgIGNvbnN0IHRhc2tDb250YWluZXIgPSB0aGlzLnJlbmRlckluZm8oJ2RpdicsICd0YXNrLWNvbnRhaW5lcicpO1xuICAgICAgICBjb25zdCBlbGVtcyA9IHRoaXMuY3JlYXRlRWxlbWVudHMoKTtcbiAgICAgICAgZm9yIChsZXQgZWxlbSBvZiBlbGVtcykge1xuICAgICAgICAgICAgdGFza0NvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRhc2tDb250YWluZXI7XG4gICAgfTtcbn07XG5cbmNsYXNzIFByb2plY3RVSSB7XG4gICAgY29uc3RydWN0b3IocHJvamVjdE9iaikge1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0T2JqO1xuICAgIH07XG4gICAgZHJhdygpIHtcbiAgICAgICAgY29uc3QgbWFpbkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbi1jb250ZW50Jyk7XG4gICAgICAgIHRoaXMuY2xlYXIobWFpbkNvbnRlbnQpO1xuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHRhc2tzIGFuZCBnaXZlIGl0IGEgVGFza1VJIGNsYXNzLlxuICAgICAgICAvLyBVc2UgdGhlIGRyYXcgbWV0aG9kIHRvIGdldCB0aGUgZGl2IGNvbnRhaW5lciBhbmQgYXBwZW5kIGl0IHRvIG1haW5Db250ZW50LlxuXG4gICAgICAgIHRoaXMuZHJhd1Rhc2tzKG1haW5Db250ZW50LCB0aGlzLnByb2plY3QudGFza3MpO1xuICAgIH1cbiAgICBkcmF3VGFza3MoY29udGFpbmVyLCB0YXNrcykge1xuICAgICAgICBmb3IobGV0IHRhc2sgb2YgdGFza3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tEaXNwbGF5ID0gbmV3IFRhc2tVSSh0YXNrKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0YXNrRGlzcGxheS5kcmF3KCkpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBjbGVhcihjb250ZW50KSB7XG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxufTtcblxuZXhwb3J0IHtcbiAgICBUYXNrVUksXG4gICAgUHJvamVjdFVJLFxufSIsImltcG9ydCBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCBQcm9qZWN0IGZyb20gXCIuL3Byb2plY3RcIjtcbmltcG9ydCBBbGxQcm9qZWN0cyBmcm9tIFwiLi9BbGxQcm9qZWN0c1wiO1xuaW1wb3J0IHsgVGFza1VJLCBQcm9qZWN0VUkgfSBmcm9tIFwiLi9VSS9Qcm9qZWN0VUlcIjtcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudG9Eb0xpc3QgPSBuZXcgQWxsUHJvamVjdHMoKTtcbiAgICB9O1xuXG4gICAgbG9hZEhvbWVQYWdlKCkge1xuICAgICAgICBVSS5hZGRTaWRlQmFyRnVuYygpO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRvRG9MaXN0LmdldFByb2plY3QoJ0luYm94JykpO1xuXG4gICAgICAgIC8vIEFkZCBhIHRhc2sgdG8gaW5ib3guXG4gICAgICAgIHRoaXMudG9Eb0xpc3QuZ2V0UHJvamVjdCgnSW5ib3gnKS5hZGRUYXNrKG5ldyBUYXNrKFxuICAgICAgICAgICAgJ1dhbGtpbmcgdGhlIGRvZycsICdIZSBpcyBhc2tpbmcgZm9yIGl0IHNvIHRoaXMgdGFzayBpcyBhIG11c3QnLCAndG9kYXknLFxuICAgICAgICAgICAgJ2hpZ2gnLCB0aGlzLnRvRG9MaXN0LmdldFByb2plY3QoJ0luYm94JykudGFza3MubGVuZ3RoXG4gICAgICAgICkpO1xuICAgICAgICBcbiAgICAgICAgLy8gZ2V0IHRoZSB0YXNrIGZyb20gaW5ib3hcbiAgICAgICAgZm9yKGxldCB0YXNrIG9mIHRoaXMudG9Eb0xpc3QuZ2V0UHJvamVjdCgnSW5ib3gnKS50YXNrcykge1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrVUkodGFzayk7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrRGlzcGxheSA9IG5ld1Rhc2suZHJhdygpXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcHJvamVjdERpc3BsYXkgPSBuZXcgUHJvamVjdFVJKHRoaXMudG9Eb0xpc3QuZ2V0UHJvamVjdCgnSW5ib3gnKSk7XG4gICAgICAgIHByb2plY3REaXNwbGF5LmRyYXcoKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50b0RvTGlzdC5nZXRQcm9qZWN0KCdJbmJveCcpLnRhc2tzKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50b0RvTGlzdC5nZXRQcm9qZWN0KCdUb2RheScpLm5hbWUpXG4gICAgICAgIHRoaXMuYWRkSW5ib3hUYWJzKCk7XG4gICAgfVxuXG4gICAgYWRkSW5ib3hUYWJzKCkge1xuICAgICAgICAvLyBBZGQgdG9kYXkgYW5kIHRoaXMgd2VlaydzIHRhc2sgYmVuZWF0aCBJbmJveCB0YWIgc2lkZWJhci5cbiAgICAgICAgY29uc3QgaW5ib3hUYWJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcblxuICAgICAgICB0aGlzLmFkZFRhYihpbmJveFRhYnMsICdUb2RheScpO1xuICAgICAgICB0aGlzLmFkZFRhYihpbmJveFRhYnMsICdUaGlzIFdlZWsnKTtcblxuICAgICAgICBjb25zdCBpbmJveEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbmJveC1iYXInKTtcbiAgICAgICAgaW5ib3hCYXIuYXBwZW5kQ2hpbGQoaW5ib3hUYWJzKVxuICAgIH1cbiAgICBhZGRUYWIobWVudVRhYiwgcHJvamVjdE5hbWUpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGxpIGFuZCBhcHBlbmQgaXQgdG8gZ2l2ZW4gcGFyYW0gZWxlbS5cbiAgICAgICAgY29uc3QgdGFiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgXG4gICAgICAgIHRhYi50ZXh0Q29udGVudCA9IHRoaXMudG9Eb0xpc3QuZ2V0UHJvamVjdChwcm9qZWN0TmFtZSkubmFtZTtcbiAgICAgICAgbWVudVRhYi5hcHBlbmRDaGlsZCh0YWIpO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGFkZFNpZGVCYXJGdW5jKCkge1xuICAgICAgICBjb25zdCBzaWRlQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZGVCYXInKTtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWxJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYXRlcmlhbC1pY29ucycpO1xuICAgICAgICBjb25zdCBpY29uVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pY29uLXRleHQnKTtcbiAgICAgICAgc2lkZUJhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBzaWRlQmFyLnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICAgICAgfSk7XG4gICAgICAgIHNpZGVCYXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBzaWRlQmFyLnN0eWxlLndpZHRoID0gJzY1cHgnO1xuICAgICAgICB9KTtcblxuICAgIH07XG59O1xuIiwiaW1wb3J0IFVJIGZyb20gJy4vbW9kdWxlcy9VSSc7XG5jb25zdCBVc2VySW50ZXJmYWNlID0gbmV3IFVJKCk7XG5cblVzZXJJbnRlcmZhY2UubG9hZEhvbWVQYWdlKCk7Il0sIm5hbWVzIjpbIlRhc2siLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsImlkIiwidGhpcyIsInZhbHVlIiwiX25hbWUiLCJfaWQiLCJfcHJpb3JpdHkiLCJfZGVzY3JpcHRpb24iLCJfZHVlRGF0ZSIsImR1ZURhdGVGb3JtYXR0ZWQiLCJzcGxpdCIsIlByb2plY3QiLCJ0YXNrcyIsIl90YXNrcyIsImFkZFRhc2siLCJ0YXNrIiwicHVzaCIsImRlbGV0ZVRhc2siLCJ0YXNrSWQiLCJmaWx0ZXIiLCJnZXRJZCIsIkFsbFByb2plY3RzIiwicHJvamVjdHMiLCJfcHJvamVjdHMiLCJjb250YWlucyIsInByb2plY3ROYW1lIiwic29tZSIsInByb2plY3QiLCJnZXRQcm9qZWN0IiwiZmluZCIsImFkZFByb2plY3QiLCJuZXdQcm9qZWN0TmFtZSIsImRlbGV0ZVByb2plY3QiLCJwcm9qZWN0VG9EZWxldGUiLCJzcGxpY2UiLCJpbmRleE9mIiwiVGFza1VJIiwidGFza09iaiIsInJlbmRlckluZm8iLCJlbGVtIiwiYWRkZWRDbGFzcyIsInRleHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZUVsZW1lbnRzIiwic3RhdHVzQ2hlY2siLCJzZXRBdHRyaWJ1dGUiLCJkZXRhaWxzQnRuIiwicHJpb3JpdHlJY29uIiwiYXBwZW5kQ2hpbGQiLCJ0aW1lRWxhcHNlZCIsIkRhdGUiLCJub3ciLCJ0b2RheSIsImRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJlZGl0IiwiZWRpdEljb24iLCJ0YXNrRGVsIiwiZGVsSWNvbiIsImRyYXciLCJ0YXNrQ29udGFpbmVyIiwiZWxlbXMiLCJQcm9qZWN0VUkiLCJwcm9qZWN0T2JqIiwibWFpbkNvbnRlbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xlYXIiLCJkcmF3VGFza3MiLCJjb250YWluZXIiLCJ0YXNrRGlzcGxheSIsImNvbnRlbnQiLCJpbm5lckhUTUwiLCJVSSIsInRvRG9MaXN0IiwibG9hZEhvbWVQYWdlIiwiYWRkU2lkZUJhckZ1bmMiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiYWRkSW5ib3hUYWJzIiwiaW5ib3hUYWJzIiwiYWRkVGFiIiwibWVudVRhYiIsInRhYiIsInN0YXRpYyIsInNpZGVCYXIiLCJnZXRFbGVtZW50QnlJZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJ3aWR0aCJdLCJzb3VyY2VSb290IjoiIn0=