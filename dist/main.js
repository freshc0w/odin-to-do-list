(()=>{"use strict";class t{constructor(t,e,s,i,n){this.name=t,this.description=e,this.dueDate=s,this.priority=i,this.id=n}set name(t){this._name=t}get name(){return this._name}get id(){return this._id}set id(t){this._id=t}get priority(){return this._priority}set priority(t){this._priority=t}get description(){return this._description}set description(t){this._description=t}get dueDate(){return this._dueDate}set dueDate(t){this._dueDate=t}get dueDateFormatted(){return`${this.dueDate.split("/")[0]}/${this.dueDate.split("/")[1]}/${this.dueDate.split("/")[2]}`}}class e{constructor(t){this.name=t,this.tasks=[]}get name(){return this._name}set name(t){this._name=t}get tasks(){return this._tasks}set tasks(t){this._tasks=t}addTask(t){this._tasks.push(t)}deleteTask(t){this._tasks=this._tasks.filter((e=>e.getId()!==t))}}class s{constructor(){this.projects=[],this.projects.push(new e("Inbox")),this.projects.push(new e("Today")),this.projects.push(new e("This Week"))}get projects(){return this._projects}set projects(t){this._projects=t}contains(t){return this.projects.some((e=>e.name===t))}getProject(t){return this.projects.find((e=>e.name===t))}addProject(t){this.contains(t)||this.projects.push(new e(t))}deleteProject(t){const e=this.projects.find((e=>e.name===t));this.projects.splice(this.projects.indexOf(e),1)}}class i{constructor(t){this.task=t}renderInfo(t,e,s=""){const i=document.createElement(t);return i.classList.add(e),i.textContent=s,i}createElements(t){const e=this.renderInfo("input","statusCheck");e.setAttribute("type","checkbox"),e.setAttribute("id","statusCheck"),e.addEventListener("change",(e=>{e.target.checked?(t.style.opacity="40%",t.style.transform="translateY(1px)"):(t.style.opacity="100%",t.style.transform="translateY(-7px)")}));const s=this.renderInfo("div","taskName",this.task.name),i=this.renderInfo("button","taskDetailsBtn","Details"),n=this.renderInfo("div","statusPrio"),o=this.renderInfo("i","material-icons","warning");o.classList.add(this.task.priority),n.appendChild(o);const r=Date.now(),a=new Date(r),d=this.renderInfo("div","taskDate",`${a.toLocaleDateString()}`),c=this.renderInfo("div","taskEdit"),h=this.renderInfo("i","material-icons","edit");c.appendChild(h);const l=this.renderInfo("div","taskDel"),u=this.renderInfo("i","material-icons","delete");return l.appendChild(u),[e,s,i,n,d,c,l]}draw(){const t=this.renderInfo("div","task-container"),e=this.createElements(t);for(let s of e)t.appendChild(s);return t}}class n{constructor(t){this.project=t}draw(){const t=document.querySelector("#main-content");this.clear(t),this.drawTasks(t,this.project.tasks)}drawTasks(t,e){for(let s of e){const e=new i(s);t.appendChild(e.draw())}}clear(t){t.innerHTML=""}completeTask(){document.getElementById()}}class o{constructor(){this.toDoList=new s}loadHomePage(){o.addSideBarFunc(),console.log(this.toDoList.getProject("Inbox")),this.toDoList.getProject("Inbox").addTask(new t("Walking the dog","He is asking for it so this task is a must","today","medium",this.toDoList.getProject("Inbox").tasks.length));for(let t of this.toDoList.getProject("Inbox").tasks)new i(t).draw();new n(this.toDoList.getProject("Inbox")).draw(),console.log(this.toDoList.getProject("Inbox").tasks),console.log(this.toDoList.getProject("Today").name),this.addInboxTabs()}addInboxTabs(){const t=document.createElement("ul");this.addTab(t,"Today"),this.addTab(t,"This Week"),document.querySelector(".inbox-bar").appendChild(t)}addTab(t,e){const s=document.createElement("li");s.textContent=this.toDoList.getProject(e).name,t.appendChild(s)}static addSideBarFunc(){const t=document.getElementById("sideBar");document.querySelectorAll(".material-icons"),document.querySelectorAll(".icon-text"),t.addEventListener("mouseover",(()=>{t.style.width="200px"})),t.addEventListener("mouseout",(()=>{t.style.width="65px"}))}}(new o).loadHomePage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxFQUFJbEQsWUFBYzVDLEtBQUtvRixTQUFTMUQsV0FBV0gsR0FBYTVCLEtBQ3hEa0csRUFBUW5DLFlBQVlvQyxFQUN4QixDQUdBQyx3QkFDSSxNQUFNQyxFQUFVeEQsU0FBUzBDLGVBQWUsV0FDbEIxQyxTQUFTeUQsaUJBQWlCLG1CQUMvQnpELFNBQVN5RCxpQkFBaUIsY0FDM0NELEVBQVEvQyxpQkFBaUIsYUFBYSxLQUNsQytDLEVBQVEzQyxNQUFNNkMsTUFBUSxPQUFPLElBRWpDRixFQUFRL0MsaUJBQWlCLFlBQVksS0FDakMrQyxFQUFRM0MsTUFBTTZDLE1BQVEsTUFBTSxHQUdwQyxHQy9Ea0IsSUFBSWYsR0FFWkUsYyIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3Rhc2suanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9BbGxQcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9VSS9Qcm9qZWN0VUkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby1saXN0Ly4vc3JjL21vZHVsZXMvVUkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2sge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgaWQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDsgLy8gVG8gYWxsb3cgZGVsZXRpb24gb2YgdGFzayB3aXRoIHRoZSBzYW1lIG5hbWU7XG4gICAgICAgIFxuICAgIH1cbiAgICBzZXQgbmFtZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9uYW1lID0gdmFsdWU7XG4gICAgfTtcblxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9O1xuICAgIFxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfTtcbiAgICBzZXQgaWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5faWQgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHByaW9yaXR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJpb3JpdHk7XG4gICAgfVxuICAgIHNldCBwcmlvcml0eSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9wcmlvcml0eSA9IHZhbHVlO1xuICAgIH1cbiAgICBcbiAgICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHNldCBkZXNjcmlwdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBnZXQgZHVlRGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2R1ZURhdGU7XG4gICAgfTtcbiAgICBzZXQgZHVlRGF0ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9kdWVEYXRlID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBkdWVEYXRlRm9ybWF0dGVkKCkge1xuICAgICAgICBjb25zdCBkYXkgPSB0aGlzLmR1ZURhdGUuc3BsaXQoJy8nKVswXTtcbiAgICAgICAgY29uc3QgbW9udGggPSB0aGlzLmR1ZURhdGUuc3BsaXQoJy8nKVsxXTtcbiAgICAgICAgY29uc3QgeWVhciA9IHRoaXMuZHVlRGF0ZS5zcGxpdCgnLycpWzJdO1xuXG4gICAgICAgIHJldHVybiBgJHtkYXl9LyR7bW9udGh9LyR7eWVhcn1gO1xuICAgIH07XG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50YXNrcyA9IFtdO1xuICAgIH07XG4gICAgXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH07XG4gICAgc2V0IG5hbWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHZhbHVlO1xuICAgIH07XG4gICAgZ2V0IHRhc2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFza3M7XG4gICAgfTtcbiAgICBzZXQgdGFza3ModmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdGFza3MgPSB2YWx1ZTtcbiAgICB9XG4gICAgYWRkVGFzayh0YXNrKSB7XG4gICAgICAgIHRoaXMuX3Rhc2tzLnB1c2godGFzayk7ICAgICAgICBcbiAgICB9O1xuICAgIGRlbGV0ZVRhc2sodGFza0lkKSB7XG4gICAgICAgIHRoaXMuX3Rhc2tzID0gdGhpcy5fdGFza3MuZmlsdGVyKHRhc2sgPT4gdGFzay5nZXRJZCgpICE9PSB0YXNrSWQpO1xuICAgIH07XG5cbiAgICAvLyBUbyBiZSBhZGRlZDogR2V0IHRvZGF5J3MgYW5kIHRoaXMgd2VlaydzIHRhc2tzLiBcbn07IiwiaW1wb3J0IFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0IFByb2plY3QgZnJvbSBcIi4vcHJvamVjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbGxQcm9qZWN0cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucHJvamVjdHMgPSBbXTtcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5wdXNoKG5ldyBQcm9qZWN0KCdJbmJveCcpKTtcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5wdXNoKG5ldyBQcm9qZWN0KCdUb2RheScpKTtcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5wdXNoKG5ldyBQcm9qZWN0KCdUaGlzIFdlZWsnKSk7XG4gICAgfTtcblxuICAgIGdldCBwcm9qZWN0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2plY3RzO1xuICAgIH07XG4gICAgc2V0IHByb2plY3RzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3Byb2plY3RzID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgcHJvamVjdCBuYW1lIGV4aXN0cyBpbiBsaXN0IG9mIHByb2plY3RzLlxuICAgIGNvbnRhaW5zKHByb2plY3ROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3RzLnNvbWUocHJvamVjdCA9PiBwcm9qZWN0Lm5hbWUgPT09IHByb2plY3ROYW1lKTtcbiAgICB9O1xuXG4gICAgZ2V0UHJvamVjdChwcm9qZWN0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5uYW1lID09PSBwcm9qZWN0TmFtZSk7XG4gICAgfTtcblxuICAgIGFkZFByb2plY3QobmV3UHJvamVjdE5hbWUpIHtcbiAgICAgICAgLy8gQ2Fubm90IGhhdmUgc2FtZSBwcm9qZWN0IG5hbWVzLlxuICAgICAgICBpZiAodGhpcy5jb250YWlucyhuZXdQcm9qZWN0TmFtZSkpIHJldHVybjtcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5wdXNoKG5ldyBQcm9qZWN0KG5ld1Byb2plY3ROYW1lKSk7XG4gICAgfTtcblxuICAgIGRlbGV0ZVByb2plY3QocHJvamVjdE5hbWUpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdFRvRGVsZXRlID0gdGhpcy5wcm9qZWN0cy5maW5kKHByb2plY3QgPT4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3QubmFtZSA9PT0gcHJvamVjdE5hbWUpO1xuICAgICAgICB0aGlzLnByb2plY3RzLnNwbGljZSh0aGlzLnByb2plY3RzLmluZGV4T2YocHJvamVjdFRvRGVsZXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMSlcbiAgICB9O1xuICAgIFxuXG4gICAgLy8gQ2FuIGFkZCB0b2RheSdzIGFuZCB0aGlzIHdlZWsncyBmdW5jdGlvbmFsaXR5LlxufTsiLCJpbXBvcnQgVGFzayBmcm9tIFwiLi4vdGFza1wiO1xuaW1wb3J0IFByb2plY3QgZnJvbSBcIi4uL3Byb2plY3RcIjtcblxuY2xhc3MgVGFza1VJIHtcblxuICAgIC8vIFB1cnBvc2Ugb2YgdGhpcyBjbGFzcyBpdCB0byB0YWtlIGluIGEgdGFzayBvYmosIGFuZCB0dXJuIGl0IGludG9cbiAgICAvLyBhIGRpdiB3aXRoIGFsbCByZWxldmFudCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgdGhlIHRhc2suXG4gICAgLy8gRnJvbSBsZWZ0LXRvLXJpZ2h0OiBbY2hlY2tCb3gsIG5hbWUsIGRldGFpbHMsIHByaW9yaXR5LCBkYXRlLCBlZGl0SWNvbiwgYmluSWNvbl1cbiAgICBjb25zdHJ1Y3Rvcih0YXNrT2JqKSB7XG4gICAgICAgIHRoaXMudGFzayA9IHRhc2tPYmo7XG4gICAgfTtcbiAgICByZW5kZXJJbmZvKGVsZW0sIGFkZGVkQ2xhc3MsIHRleHQ9JycpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlbSk7XG4gICAgICAgIG5hbWUuY2xhc3NMaXN0LmFkZChhZGRlZENsYXNzKTtcbiAgICAgICAgbmFtZS50ZXh0Q29udGVudCA9IHRleHQ7IC8vIGRlZmF1bHQgZW1wdHkgc3RyXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbmFtZVxuICAgIH07XG4gICAgY3JlYXRlRWxlbWVudHModGFza0NvbnRhaW5lcikge1xuICAgICAgICBjb25zdCBzdGF0dXNDaGVjayA9IHRoaXMucmVuZGVySW5mbygnaW5wdXQnLCAnc3RhdHVzQ2hlY2snKTtcbiAgICAgICAgc3RhdHVzQ2hlY2suc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgICAgIHN0YXR1c0NoZWNrLnNldEF0dHJpYnV0ZSgnaWQnLCAnc3RhdHVzQ2hlY2snKTtcbiAgICAgICAgc3RhdHVzQ2hlY2suYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnNDAlJztcbiAgICAgICAgICAgICAgICB0YXNrQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDFweCknO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMTAwJSc7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtN3B4KSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMucmVuZGVySW5mbygnZGl2JywgJ3Rhc2tOYW1lJywgdGhpcy50YXNrLm5hbWUpO1xuXG4gICAgICAgIC8vIFdoZW4gY2xpY2tlZCwgcG9wIHVwIGEgZm9ybSB3aGVyZSB0aGUgZGV0YWlscyBvZiB0aGUgdGFzayBpcyBkaXNwbGF5ZWQuXG4gICAgICAgIGNvbnN0IGRldGFpbHNCdG4gPSB0aGlzLnJlbmRlckluZm8oJ2J1dHRvbicsICd0YXNrRGV0YWlsc0J0bicsICdEZXRhaWxzJyk7XG5cbiAgICAgICAgLy8gUHJpb3JpdHkgaWNvblxuICAgICAgICBjb25zdCBwcmlvcml0eSA9IHRoaXMucmVuZGVySW5mbygnZGl2JywgJ3N0YXR1c1ByaW8nKTtcbiAgICAgICAgY29uc3QgcHJpb3JpdHlJY29uID0gdGhpcy5yZW5kZXJJbmZvKCdpJywgJ21hdGVyaWFsLWljb25zJywgJ3dhcm5pbmcnKTtcblxuICAgICAgICAvLyBDaGFuZ2UgY29sb3IgYmFzZWQgb24gcHJpb3JpdHkgb2YgdGFzayAtPiBbJ2hpZ2gnLCAnbWVkaXVtJywgJ2xvdyddXG4gICAgICAgIHByaW9yaXR5SWNvbi5jbGFzc0xpc3QuYWRkKHRoaXMudGFzay5wcmlvcml0eSlcbiAgICAgICAgcHJpb3JpdHkuYXBwZW5kQ2hpbGQocHJpb3JpdHlJY29uKTtcblxuICAgICAgICAvLyBKdXN0IGEgbW9jayBkYXRlIGZvciBub3cuIFN1YmplY3QgdG8gY2hhbmdlIGJhc2VkIG9uIHVzZXIgaW5wdXQuXG4gICAgICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSh0aW1lRWxhcHNlZCk7XG4gICAgICAgIGNvbnN0IGRhdGUgPSB0aGlzLnJlbmRlckluZm8oJ2RpdicsICd0YXNrRGF0ZScsIGAke3RvZGF5LnRvTG9jYWxlRGF0ZVN0cmluZygpfWApO1xuXG4gICAgICAgIC8vIGljb25zXG4gICAgICAgIGNvbnN0IGVkaXQgPSB0aGlzLnJlbmRlckluZm8oJ2RpdicsICd0YXNrRWRpdCcpO1xuICAgICAgICBjb25zdCBlZGl0SWNvbiA9IHRoaXMucmVuZGVySW5mbygnaScsICdtYXRlcmlhbC1pY29ucycsICdlZGl0Jyk7XG4gICAgICAgIGVkaXQuYXBwZW5kQ2hpbGQoZWRpdEljb24pO1xuXG4gICAgICAgIGNvbnN0IHRhc2tEZWwgPSB0aGlzLnJlbmRlckluZm8oJ2RpdicsICd0YXNrRGVsJyk7XG4gICAgICAgIGNvbnN0IGRlbEljb24gPSB0aGlzLnJlbmRlckluZm8oJ2knLCAnbWF0ZXJpYWwtaWNvbnMnLCAnZGVsZXRlJyk7XG4gICAgICAgIHRhc2tEZWwuYXBwZW5kQ2hpbGQoZGVsSWNvbik7XG5cbiAgICAgICAgcmV0dXJuIFtzdGF0dXNDaGVjaywgbmFtZSwgZGV0YWlsc0J0biwgcHJpb3JpdHksIGRhdGUsIGVkaXQsIHRhc2tEZWxdO1xuICAgIH07XG4gICAgZHJhdygpIHtcbiAgICAgICAgY29uc3QgdGFza0NvbnRhaW5lciA9IHRoaXMucmVuZGVySW5mbygnZGl2JywgJ3Rhc2stY29udGFpbmVyJyk7XG4gICAgICAgIGNvbnN0IGVsZW1zID0gdGhpcy5jcmVhdGVFbGVtZW50cyh0YXNrQ29udGFpbmVyKTtcbiAgICAgICAgZm9yIChsZXQgZWxlbSBvZiBlbGVtcykge1xuICAgICAgICAgICAgdGFza0NvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRhc2tDb250YWluZXI7XG4gICAgfTtcbn07XG5cbmNsYXNzIFByb2plY3RVSSB7XG4gICAgY29uc3RydWN0b3IocHJvamVjdE9iaikge1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0T2JqO1xuICAgIH07XG4gICAgZHJhdygpIHtcbiAgICAgICAgY29uc3QgbWFpbkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbi1jb250ZW50Jyk7XG4gICAgICAgIHRoaXMuY2xlYXIobWFpbkNvbnRlbnQpO1xuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHRhc2tzIGFuZCBnaXZlIGl0IGEgVGFza1VJIGNsYXNzLlxuICAgICAgICAvLyBVc2UgdGhlIGRyYXcgbWV0aG9kIHRvIGdldCB0aGUgZGl2IGNvbnRhaW5lciBhbmQgYXBwZW5kIGl0IHRvIG1haW5Db250ZW50LlxuXG4gICAgICAgIHRoaXMuZHJhd1Rhc2tzKG1haW5Db250ZW50LCB0aGlzLnByb2plY3QudGFza3MpO1xuICAgIH1cbiAgICBkcmF3VGFza3MoY29udGFpbmVyLCB0YXNrcykge1xuICAgICAgICBmb3IobGV0IHRhc2sgb2YgdGFza3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tEaXNwbGF5ID0gbmV3IFRhc2tVSSh0YXNrKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0YXNrRGlzcGxheS5kcmF3KCkpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBjbGVhcihjb250ZW50KSB7XG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgfTtcblxuICAgIGNvbXBsZXRlVGFzaygpIHtcbiAgICAgICAgLy8gTWFrZSB0YXNrIGNvbnRhaW5lciB0cmFuc3BhcmVudCBhZnRlciBjb21wbGV0aW5nIHRhc2suXG4gICAgICAgIGNvbnN0IGNoZWNrQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoKVxuICAgIH1cbn07XG5cbmV4cG9ydCB7XG4gICAgVGFza1VJLFxuICAgIFByb2plY3RVSSxcbn0iLCJpbXBvcnQgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgUHJvamVjdCBmcm9tIFwiLi9wcm9qZWN0XCI7XG5pbXBvcnQgQWxsUHJvamVjdHMgZnJvbSBcIi4vQWxsUHJvamVjdHNcIjtcbmltcG9ydCB7IFRhc2tVSSwgUHJvamVjdFVJIH0gZnJvbSBcIi4vVUkvUHJvamVjdFVJXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRvRG9MaXN0ID0gbmV3IEFsbFByb2plY3RzKCk7XG4gICAgfTtcblxuICAgIGxvYWRIb21lUGFnZSgpIHtcbiAgICAgICAgVUkuYWRkU2lkZUJhckZ1bmMoKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50b0RvTGlzdC5nZXRQcm9qZWN0KCdJbmJveCcpKTtcblxuICAgICAgICAvLyBBZGQgYSB0YXNrIHRvIGluYm94LlxuICAgICAgICB0aGlzLnRvRG9MaXN0LmdldFByb2plY3QoJ0luYm94JykuYWRkVGFzayhuZXcgVGFzayhcbiAgICAgICAgICAgICdXYWxraW5nIHRoZSBkb2cnLCAnSGUgaXMgYXNraW5nIGZvciBpdCBzbyB0aGlzIHRhc2sgaXMgYSBtdXN0JywgJ3RvZGF5JyxcbiAgICAgICAgICAgICdtZWRpdW0nLCB0aGlzLnRvRG9MaXN0LmdldFByb2plY3QoJ0luYm94JykudGFza3MubGVuZ3RoXG4gICAgICAgICkpO1xuICAgICAgICBcbiAgICAgICAgLy8gZ2V0IHRoZSB0YXNrIGZyb20gaW5ib3hcbiAgICAgICAgZm9yKGxldCB0YXNrIG9mIHRoaXMudG9Eb0xpc3QuZ2V0UHJvamVjdCgnSW5ib3gnKS50YXNrcykge1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrVUkodGFzayk7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrRGlzcGxheSA9IG5ld1Rhc2suZHJhdygpXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcHJvamVjdERpc3BsYXkgPSBuZXcgUHJvamVjdFVJKHRoaXMudG9Eb0xpc3QuZ2V0UHJvamVjdCgnSW5ib3gnKSk7XG4gICAgICAgIHByb2plY3REaXNwbGF5LmRyYXcoKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50b0RvTGlzdC5nZXRQcm9qZWN0KCdJbmJveCcpLnRhc2tzKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50b0RvTGlzdC5nZXRQcm9qZWN0KCdUb2RheScpLm5hbWUpXG4gICAgICAgIHRoaXMuYWRkSW5ib3hUYWJzKCk7XG4gICAgfVxuXG4gICAgYWRkSW5ib3hUYWJzKCkge1xuICAgICAgICAvLyBBZGQgdG9kYXkgYW5kIHRoaXMgd2VlaydzIHRhc2sgYmVuZWF0aCBJbmJveCB0YWIgc2lkZWJhci5cbiAgICAgICAgY29uc3QgaW5ib3hUYWJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcblxuICAgICAgICB0aGlzLmFkZFRhYihpbmJveFRhYnMsICdUb2RheScpO1xuICAgICAgICB0aGlzLmFkZFRhYihpbmJveFRhYnMsICdUaGlzIFdlZWsnKTtcblxuICAgICAgICBjb25zdCBpbmJveEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbmJveC1iYXInKTtcbiAgICAgICAgaW5ib3hCYXIuYXBwZW5kQ2hpbGQoaW5ib3hUYWJzKVxuICAgIH1cbiAgICBhZGRUYWIobWVudVRhYiwgcHJvamVjdE5hbWUpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGxpIGFuZCBhcHBlbmQgaXQgdG8gZ2l2ZW4gcGFyYW0gZWxlbS5cbiAgICAgICAgY29uc3QgdGFiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgXG4gICAgICAgIHRhYi50ZXh0Q29udGVudCA9IHRoaXMudG9Eb0xpc3QuZ2V0UHJvamVjdChwcm9qZWN0TmFtZSkubmFtZTtcbiAgICAgICAgbWVudVRhYi5hcHBlbmRDaGlsZCh0YWIpO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGFkZFNpZGVCYXJGdW5jKCkge1xuICAgICAgICBjb25zdCBzaWRlQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZGVCYXInKTtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWxJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYXRlcmlhbC1pY29ucycpO1xuICAgICAgICBjb25zdCBpY29uVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pY29uLXRleHQnKTtcbiAgICAgICAgc2lkZUJhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBzaWRlQmFyLnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICAgICAgfSk7XG4gICAgICAgIHNpZGVCYXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBzaWRlQmFyLnN0eWxlLndpZHRoID0gJzY1cHgnO1xuICAgICAgICB9KTtcblxuICAgIH07XG59O1xuIiwiaW1wb3J0IFVJIGZyb20gJy4vbW9kdWxlcy9VSSc7XG5jb25zdCBVc2VySW50ZXJmYWNlID0gbmV3IFVJKCk7XG5cblVzZXJJbnRlcmZhY2UubG9hZEhvbWVQYWdlKCk7Il0sIm5hbWVzIjpbIlRhc2siLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsImlkIiwidGhpcyIsInZhbHVlIiwiX25hbWUiLCJfaWQiLCJfcHJpb3JpdHkiLCJfZGVzY3JpcHRpb24iLCJfZHVlRGF0ZSIsImR1ZURhdGVGb3JtYXR0ZWQiLCJzcGxpdCIsIlByb2plY3QiLCJ0YXNrcyIsIl90YXNrcyIsImFkZFRhc2siLCJ0YXNrIiwicHVzaCIsImRlbGV0ZVRhc2siLCJ0YXNrSWQiLCJmaWx0ZXIiLCJnZXRJZCIsIkFsbFByb2plY3RzIiwicHJvamVjdHMiLCJfcHJvamVjdHMiLCJjb250YWlucyIsInByb2plY3ROYW1lIiwic29tZSIsInByb2plY3QiLCJnZXRQcm9qZWN0IiwiZmluZCIsImFkZFByb2plY3QiLCJuZXdQcm9qZWN0TmFtZSIsImRlbGV0ZVByb2plY3QiLCJwcm9qZWN0VG9EZWxldGUiLCJzcGxpY2UiLCJpbmRleE9mIiwiVGFza1VJIiwidGFza09iaiIsInJlbmRlckluZm8iLCJlbGVtIiwiYWRkZWRDbGFzcyIsInRleHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZUVsZW1lbnRzIiwidGFza0NvbnRhaW5lciIsInN0YXR1c0NoZWNrIiwic2V0QXR0cmlidXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwiY2hlY2tlZCIsInN0eWxlIiwib3BhY2l0eSIsInRyYW5zZm9ybSIsImRldGFpbHNCdG4iLCJwcmlvcml0eUljb24iLCJhcHBlbmRDaGlsZCIsInRpbWVFbGFwc2VkIiwiRGF0ZSIsIm5vdyIsInRvZGF5IiwiZGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImVkaXQiLCJlZGl0SWNvbiIsInRhc2tEZWwiLCJkZWxJY29uIiwiZHJhdyIsImVsZW1zIiwiUHJvamVjdFVJIiwicHJvamVjdE9iaiIsIm1haW5Db250ZW50IiwicXVlcnlTZWxlY3RvciIsImNsZWFyIiwiZHJhd1Rhc2tzIiwiY29udGFpbmVyIiwidGFza0Rpc3BsYXkiLCJjb250ZW50IiwiaW5uZXJIVE1MIiwiY29tcGxldGVUYXNrIiwiZ2V0RWxlbWVudEJ5SWQiLCJVSSIsInRvRG9MaXN0IiwibG9hZEhvbWVQYWdlIiwiYWRkU2lkZUJhckZ1bmMiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiYWRkSW5ib3hUYWJzIiwiaW5ib3hUYWJzIiwiYWRkVGFiIiwibWVudVRhYiIsInRhYiIsInN0YXRpYyIsInNpZGVCYXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwid2lkdGgiXSwic291cmNlUm9vdCI6IiJ9