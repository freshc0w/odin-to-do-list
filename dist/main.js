(()=>{"use strict";class t{constructor(t,e,s,i,n){this.name=t,this.description=e,this.dueDate=s,this.priority=i,this.id=n}set name(t){this._name=t}get name(){return this._name}get id(){return this._id}set id(t){this._id=t}get priority(){return this._priority}set priority(t){this._priority=t}get description(){return this._description}set description(t){this._description=t}get dueDate(){return this._dueDate}set dueDate(t){this._dueDate=t}get dueDateFormatted(){return`${this.dueDate.split("/")[0]}/${this.dueDate.split("/")[1]}/${this.dueDate.split("/")[2]}`}}class e{constructor(t){this.name=t,this.tasks=[]}get name(){return this._name}set name(t){this._name=t}get tasks(){return this._tasks}set tasks(t){this._tasks=t}addTask(t){this._tasks.push(t)}deleteTask(t){this._tasks=this._tasks.filter((e=>e.getId()!==t))}}class s{constructor(){this.projects=[],this.projects.push(new e("Inbox")),this.projects.push(new e("Today")),this.projects.push(new e("This Week")),this.projects.push(new e("React"))}get projects(){return this._projects}set projects(t){this._projects=t}contains(t){return this.projects.some((e=>e.name===t))}getProject(t){return this.projects.find((e=>e.name===t))}addProject(t){this.contains(t)||this.projects.push(new e(t))}deleteProject(t){const e=this.projects.find((e=>e.name===t));this.projects.splice(this.projects.indexOf(e),1)}}class i{constructor(t){this.task=t}renderInfo(t,e,s=""){const i=document.createElement(t);return i.classList.add(e),i.textContent=s,i}createElements(t){const e=this.renderInfo("input","statusCheck");e.setAttribute("type","checkbox"),e.setAttribute("id","statusCheck"),e.addEventListener("change",(e=>{e.target.checked?t.style.opacity="40%":t.style.opacity="100%"}));const s=this.renderInfo("div","taskName",this.task.name),i=this.renderInfo("button","uniqueBtn","Details");i.classList.add("details");const n=this.renderInfo("div","statusPrio"),o=this.renderInfo("i","material-icons","warning");o.classList.add(this.task.priority),n.appendChild(o);const a=Date.now(),r=new Date(a),d=this.renderInfo("div","taskDate",`${r.toLocaleDateString()}`),c=this.renderInfo("div","taskEdit"),h=this.renderInfo("i","material-icons","edit");c.appendChild(h);const l=this.renderInfo("div","taskDel"),u=this.renderInfo("i","material-icons","delete");return l.appendChild(u),[e,s,i,n,d,c,l]}draw(){const t=this.renderInfo("div","task-container"),e=this.createElements(t);for(let s of e)t.appendChild(s);return t}}class n{constructor(t){this.project=t}draw(){const t=document.querySelector("#main-content");this.clear(t),this.drawTasks(t,this.project.tasks);const e=document.createElement("div");e.classList.add("task-container"),e.classList.add("add");const s=document.createElement("button");s.classList.add("uniqueBtn"),s.classList.add("add"),s.textContent="ADD",e.appendChild(s),t.appendChild(e)}drawTasks(t,e){for(let s of e){const e=new i(s);t.appendChild(e.draw())}}clear(t){t.innerHTML=""}completeTask(){document.getElementById()}}(new class{constructor(){this.toDoList=new s}loadHomePage(){console.log(this.toDoList.getProject("Inbox")),this.toDoList.getProject("Inbox").addTask(new t("Walking the dog","He is asking for it so this task is a must","today","medium",this.toDoList.getProject("Inbox").tasks.length));for(let t of this.toDoList.getProject("Inbox").tasks)new i(t).draw();new n(this.toDoList.getProject("Inbox")).draw(),this.loadSideBar()}loadSideBar(){this.addSlideInOut(),this.drawInboxTabs(),this.drawProjectTabs()}drawInboxTabs(){const t=document.createElement("ul");this.addTab(t,"Today"),this.addTab(t,"This Week");const e=document.querySelector(".inbox-bar");e.appendChild(t),this.addDropDownMenu(e,t)}drawProjectTabs(){const t=["Inbox","Today","This Week"],e=this.toDoList.projects.filter((e=>!t.includes(e.name))),s=document.createElement("ul");for(let t of e)this.addTab(s,t.name);const i=document.querySelector(".project-bar");i.appendChild(s),this.addDropDownMenu(i,s)}addDropDownMenu(t,e){t.addEventListener("mouseover",(()=>{e.style.display="block"})),t.addEventListener("mouseout",(()=>{e.style.display="none"}))}addTab(t,e){const s=document.createElement("li");s.textContent=this.toDoList.getProject(e).name,t.appendChild(s)}addSlideInOut(){const t=document.getElementById("sideBar");document.querySelectorAll(".material-icons"),document.querySelectorAll(".icon-text"),t.addEventListener("mouseover",(()=>{t.style.width="200px"})),t.addEventListener("mouseout",(()=>{t.style.width="65px"}))}}).loadHomePage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUIsWUFBWSxLQUNqQzBELEVBQVF0RCxNQUFNd0QsTUFBUSxNQUFNLEdBR3BDLElEL0ZVeEIsYyIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3Rhc2suanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9BbGxQcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9VSS9Qcm9qZWN0VUkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby1saXN0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL29kaW4tdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL1VJLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2sge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgaWQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDsgLy8gVG8gYWxsb3cgZGVsZXRpb24gb2YgdGFzayB3aXRoIHRoZSBzYW1lIG5hbWU7XG4gICAgICAgIFxuICAgIH1cbiAgICBzZXQgbmFtZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9uYW1lID0gdmFsdWU7XG4gICAgfTtcblxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9O1xuICAgIFxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfTtcbiAgICBzZXQgaWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5faWQgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHByaW9yaXR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJpb3JpdHk7XG4gICAgfVxuICAgIHNldCBwcmlvcml0eSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9wcmlvcml0eSA9IHZhbHVlO1xuICAgIH1cbiAgICBcbiAgICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHNldCBkZXNjcmlwdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBnZXQgZHVlRGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2R1ZURhdGU7XG4gICAgfTtcbiAgICBzZXQgZHVlRGF0ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9kdWVEYXRlID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBkdWVEYXRlRm9ybWF0dGVkKCkge1xuICAgICAgICBjb25zdCBkYXkgPSB0aGlzLmR1ZURhdGUuc3BsaXQoJy8nKVswXTtcbiAgICAgICAgY29uc3QgbW9udGggPSB0aGlzLmR1ZURhdGUuc3BsaXQoJy8nKVsxXTtcbiAgICAgICAgY29uc3QgeWVhciA9IHRoaXMuZHVlRGF0ZS5zcGxpdCgnLycpWzJdO1xuXG4gICAgICAgIHJldHVybiBgJHtkYXl9LyR7bW9udGh9LyR7eWVhcn1gO1xuICAgIH07XG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50YXNrcyA9IFtdO1xuICAgIH07XG4gICAgXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH07XG4gICAgc2V0IG5hbWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHZhbHVlO1xuICAgIH07XG4gICAgZ2V0IHRhc2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFza3M7XG4gICAgfTtcbiAgICBzZXQgdGFza3ModmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdGFza3MgPSB2YWx1ZTtcbiAgICB9XG4gICAgYWRkVGFzayh0YXNrKSB7XG4gICAgICAgIHRoaXMuX3Rhc2tzLnB1c2godGFzayk7ICAgICAgICBcbiAgICB9O1xuICAgIGRlbGV0ZVRhc2sodGFza0lkKSB7XG4gICAgICAgIHRoaXMuX3Rhc2tzID0gdGhpcy5fdGFza3MuZmlsdGVyKHRhc2sgPT4gdGFzay5nZXRJZCgpICE9PSB0YXNrSWQpO1xuICAgIH07XG5cbiAgICAvLyBUbyBiZSBhZGRlZDogR2V0IHRvZGF5J3MgYW5kIHRoaXMgd2VlaydzIHRhc2tzLiBcbn07IiwiaW1wb3J0IFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0IFByb2plY3QgZnJvbSBcIi4vcHJvamVjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbGxQcm9qZWN0cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucHJvamVjdHMgPSBbXTtcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5wdXNoKG5ldyBQcm9qZWN0KCdJbmJveCcpKTtcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5wdXNoKG5ldyBQcm9qZWN0KCdUb2RheScpKTtcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5wdXNoKG5ldyBQcm9qZWN0KCdUaGlzIFdlZWsnKSk7XG4gICAgICAgIHRoaXMucHJvamVjdHMucHVzaChuZXcgUHJvamVjdCgnUmVhY3QnKSk7XG4gICAgfTtcblxuICAgIGdldCBwcm9qZWN0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2plY3RzO1xuICAgIH07XG4gICAgc2V0IHByb2plY3RzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3Byb2plY3RzID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgcHJvamVjdCBuYW1lIGV4aXN0cyBpbiBsaXN0IG9mIHByb2plY3RzLlxuICAgIGNvbnRhaW5zKHByb2plY3ROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3RzLnNvbWUocHJvamVjdCA9PiBwcm9qZWN0Lm5hbWUgPT09IHByb2plY3ROYW1lKTtcbiAgICB9O1xuXG4gICAgZ2V0UHJvamVjdChwcm9qZWN0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5uYW1lID09PSBwcm9qZWN0TmFtZSk7XG4gICAgfTtcblxuICAgIGFkZFByb2plY3QobmV3UHJvamVjdE5hbWUpIHtcbiAgICAgICAgLy8gQ2Fubm90IGhhdmUgc2FtZSBwcm9qZWN0IG5hbWVzLlxuICAgICAgICBpZiAodGhpcy5jb250YWlucyhuZXdQcm9qZWN0TmFtZSkpIHJldHVybjtcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5wdXNoKG5ldyBQcm9qZWN0KG5ld1Byb2plY3ROYW1lKSk7XG4gICAgfTtcblxuICAgIGRlbGV0ZVByb2plY3QocHJvamVjdE5hbWUpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdFRvRGVsZXRlID0gdGhpcy5wcm9qZWN0cy5maW5kKHByb2plY3QgPT4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3QubmFtZSA9PT0gcHJvamVjdE5hbWUpO1xuICAgICAgICB0aGlzLnByb2plY3RzLnNwbGljZSh0aGlzLnByb2plY3RzLmluZGV4T2YocHJvamVjdFRvRGVsZXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMSlcbiAgICB9O1xuICAgIFxuXG4gICAgLy8gQ2FuIGFkZCB0b2RheSdzIGFuZCB0aGlzIHdlZWsncyBmdW5jdGlvbmFsaXR5LlxufTsiLCJpbXBvcnQgVGFzayBmcm9tIFwiLi4vdGFza1wiO1xuaW1wb3J0IFByb2plY3QgZnJvbSBcIi4uL3Byb2plY3RcIjtcblxuY2xhc3MgVGFza1VJIHtcblxuICAgIC8vIFB1cnBvc2Ugb2YgdGhpcyBjbGFzcyBpdCB0byB0YWtlIGluIGEgdGFzayBvYmosIGFuZCB0dXJuIGl0IGludG9cbiAgICAvLyBhIGRpdiB3aXRoIGFsbCByZWxldmFudCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgdGhlIHRhc2suXG4gICAgLy8gRnJvbSBsZWZ0LXRvLXJpZ2h0OiBbY2hlY2tCb3gsIG5hbWUsIGRldGFpbHMsIHByaW9yaXR5LCBkYXRlLCBlZGl0SWNvbiwgYmluSWNvbl1cbiAgICBjb25zdHJ1Y3Rvcih0YXNrT2JqKSB7XG4gICAgICAgIHRoaXMudGFzayA9IHRhc2tPYmo7XG4gICAgfTtcbiAgICByZW5kZXJJbmZvKGVsZW0sIGFkZGVkQ2xhc3MsIHRleHQ9JycpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlbSk7XG4gICAgICAgIG5hbWUuY2xhc3NMaXN0LmFkZChhZGRlZENsYXNzKTtcbiAgICAgICAgbmFtZS50ZXh0Q29udGVudCA9IHRleHQ7IC8vIGRlZmF1bHQgZW1wdHkgc3RyXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbmFtZVxuICAgIH07XG4gICAgY3JlYXRlRWxlbWVudHModGFza0NvbnRhaW5lcikge1xuICAgICAgICBjb25zdCBzdGF0dXNDaGVjayA9IHRoaXMucmVuZGVySW5mbygnaW5wdXQnLCAnc3RhdHVzQ2hlY2snKTtcbiAgICAgICAgc3RhdHVzQ2hlY2suc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgICAgIHN0YXR1c0NoZWNrLnNldEF0dHJpYnV0ZSgnaWQnLCAnc3RhdHVzQ2hlY2snKTtcbiAgICAgICAgc3RhdHVzQ2hlY2suYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnNDAlJztcbiAgICAgICAgICAgICAgICAvLyB0YXNrQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgwLjk4NSknO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMTAwJSc7XG4gICAgICAgICAgICAgICAgLy8gdGFza0NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSknO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLnJlbmRlckluZm8oJ2RpdicsICd0YXNrTmFtZScsIHRoaXMudGFzay5uYW1lKTtcblxuICAgICAgICAvLyBXaGVuIGNsaWNrZWQsIHBvcCB1cCBhIGZvcm0gd2hlcmUgdGhlIGRldGFpbHMgb2YgdGhlIHRhc2sgaXMgZGlzcGxheWVkLlxuICAgICAgICBjb25zdCBkZXRhaWxzQnRuID0gdGhpcy5yZW5kZXJJbmZvKCdidXR0b24nLCAndW5pcXVlQnRuJywgJ0RldGFpbHMnKTtcbiAgICAgICAgZGV0YWlsc0J0bi5jbGFzc0xpc3QuYWRkKCdkZXRhaWxzJylcblxuICAgICAgICAvLyBQcmlvcml0eSBpY29uXG4gICAgICAgIGNvbnN0IHByaW9yaXR5ID0gdGhpcy5yZW5kZXJJbmZvKCdkaXYnLCAnc3RhdHVzUHJpbycpO1xuICAgICAgICBjb25zdCBwcmlvcml0eUljb24gPSB0aGlzLnJlbmRlckluZm8oJ2knLCAnbWF0ZXJpYWwtaWNvbnMnLCAnd2FybmluZycpO1xuXG4gICAgICAgIC8vIENoYW5nZSBjb2xvciBiYXNlZCBvbiBwcmlvcml0eSBvZiB0YXNrIC0+IFsnaGlnaCcsICdtZWRpdW0nLCAnbG93J11cbiAgICAgICAgcHJpb3JpdHlJY29uLmNsYXNzTGlzdC5hZGQodGhpcy50YXNrLnByaW9yaXR5KVxuICAgICAgICBwcmlvcml0eS5hcHBlbmRDaGlsZChwcmlvcml0eUljb24pO1xuXG4gICAgICAgIC8vIEp1c3QgYSBtb2NrIGRhdGUgZm9yIG5vdy4gU3ViamVjdCB0byBjaGFuZ2UgYmFzZWQgb24gdXNlciBpbnB1dC5cbiAgICAgICAgY29uc3QgdGltZUVsYXBzZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKHRpbWVFbGFwc2VkKTtcbiAgICAgICAgY29uc3QgZGF0ZSA9IHRoaXMucmVuZGVySW5mbygnZGl2JywgJ3Rhc2tEYXRlJywgYCR7dG9kYXkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9YCk7XG5cbiAgICAgICAgLy8gaWNvbnNcbiAgICAgICAgY29uc3QgZWRpdCA9IHRoaXMucmVuZGVySW5mbygnZGl2JywgJ3Rhc2tFZGl0Jyk7XG4gICAgICAgIGNvbnN0IGVkaXRJY29uID0gdGhpcy5yZW5kZXJJbmZvKCdpJywgJ21hdGVyaWFsLWljb25zJywgJ2VkaXQnKTtcbiAgICAgICAgZWRpdC5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG5cbiAgICAgICAgY29uc3QgdGFza0RlbCA9IHRoaXMucmVuZGVySW5mbygnZGl2JywgJ3Rhc2tEZWwnKTtcbiAgICAgICAgY29uc3QgZGVsSWNvbiA9IHRoaXMucmVuZGVySW5mbygnaScsICdtYXRlcmlhbC1pY29ucycsICdkZWxldGUnKTtcbiAgICAgICAgdGFza0RlbC5hcHBlbmRDaGlsZChkZWxJY29uKTtcblxuICAgICAgICByZXR1cm4gW3N0YXR1c0NoZWNrLCBuYW1lLCBkZXRhaWxzQnRuLCBwcmlvcml0eSwgZGF0ZSwgZWRpdCwgdGFza0RlbF07XG4gICAgfTtcbiAgICBkcmF3KCkge1xuICAgICAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gdGhpcy5yZW5kZXJJbmZvKCdkaXYnLCAndGFzay1jb250YWluZXInKTtcbiAgICAgICAgY29uc3QgZWxlbXMgPSB0aGlzLmNyZWF0ZUVsZW1lbnRzKHRhc2tDb250YWluZXIpO1xuICAgICAgICBmb3IgKGxldCBlbGVtIG9mIGVsZW1zKSB7XG4gICAgICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFza0NvbnRhaW5lcjtcbiAgICB9O1xufTtcblxuY2xhc3MgUHJvamVjdFVJIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9qZWN0T2JqKSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3RPYmo7XG4gICAgfTtcbiAgICBkcmF3KCkge1xuICAgICAgICBjb25zdCBtYWluQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluLWNvbnRlbnQnKTtcbiAgICAgICAgdGhpcy5jbGVhcihtYWluQ29udGVudCk7XG5cbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgdGFza3MgYW5kIGdpdmUgaXQgYSBUYXNrVUkgY2xhc3MuXG4gICAgICAgIC8vIFVzZSB0aGUgZHJhdyBtZXRob2QgdG8gZ2V0IHRoZSBkaXYgY29udGFpbmVyIGFuZCBhcHBlbmQgaXQgdG8gbWFpbkNvbnRlbnQuXG5cbiAgICAgICAgdGhpcy5kcmF3VGFza3MobWFpbkNvbnRlbnQsIHRoaXMucHJvamVjdC50YXNrcyk7XG5cbiAgICAgICAgLy8gRHJhdyBhbiBhZGQgdGFzayBvcHRpb24gbGFzdGx5XG4gICAgICAgIGNvbnN0IGFkZFRhc2tGdW5jdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBhZGRUYXNrRnVuY3Rpb24uY2xhc3NMaXN0LmFkZCgndGFzay1jb250YWluZXInKTtcbiAgICAgICAgYWRkVGFza0Z1bmN0aW9uLmNsYXNzTGlzdC5hZGQoJ2FkZCcpO1xuICAgIFxuXG4gICAgICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QuYWRkKCd1bmlxdWVCdG4nKTtcbiAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QuYWRkKCdhZGQnKTtcbiAgICAgICAgYWRkVGFza0J0bi50ZXh0Q29udGVudCA9IFwiQUREXCI7XG5cbiAgICAgICAgYWRkVGFza0Z1bmN0aW9uLmFwcGVuZENoaWxkKGFkZFRhc2tCdG4pO1xuXG4gICAgICAgIG1haW5Db250ZW50LmFwcGVuZENoaWxkKGFkZFRhc2tGdW5jdGlvbik7XG5cbiAgICB9XG4gICAgZHJhd1Rhc2tzKGNvbnRhaW5lciwgdGFza3MpIHtcbiAgICAgICAgZm9yKGxldCB0YXNrIG9mIHRhc2tzKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrRGlzcGxheSA9IG5ldyBUYXNrVUkodGFzayk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGFza0Rpc3BsYXkuZHJhdygpKTtcbiAgICAgICAgfTtcblxuICAgIH07XG5cbiAgICBjbGVhcihjb250ZW50KSB7XG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgfTtcblxuICAgIGNvbXBsZXRlVGFzaygpIHtcbiAgICAgICAgLy8gTWFrZSB0YXNrIGNvbnRhaW5lciB0cmFuc3BhcmVudCBhZnRlciBjb21wbGV0aW5nIHRhc2suXG4gICAgICAgIGNvbnN0IGNoZWNrQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoKVxuICAgIH1cbn07XG5cbmV4cG9ydCB7XG4gICAgVGFza1VJLFxuICAgIFByb2plY3RVSSxcbn0iLCJpbXBvcnQgVUkgZnJvbSAnLi9tb2R1bGVzL1VJJztcbmNvbnN0IFVzZXJJbnRlcmZhY2UgPSBuZXcgVUkoKTtcblxuVXNlckludGVyZmFjZS5sb2FkSG9tZVBhZ2UoKTsiLCJpbXBvcnQgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgUHJvamVjdCBmcm9tIFwiLi9wcm9qZWN0XCI7XG5pbXBvcnQgQWxsUHJvamVjdHMgZnJvbSBcIi4vQWxsUHJvamVjdHNcIjtcbmltcG9ydCB7IFRhc2tVSSwgUHJvamVjdFVJIH0gZnJvbSBcIi4vVUkvUHJvamVjdFVJXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRvRG9MaXN0ID0gbmV3IEFsbFByb2plY3RzKCk7XG4gICAgfTtcblxuICAgIGxvYWRIb21lUGFnZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50b0RvTGlzdC5nZXRQcm9qZWN0KCdJbmJveCcpKTtcblxuICAgICAgICAvLyBBZGQgYSB0YXNrIHRvIGluYm94LlxuICAgICAgICB0aGlzLnRvRG9MaXN0LmdldFByb2plY3QoJ0luYm94JykuYWRkVGFzayhuZXcgVGFzayhcbiAgICAgICAgICAgICdXYWxraW5nIHRoZSBkb2cnLCAnSGUgaXMgYXNraW5nIGZvciBpdCBzbyB0aGlzIHRhc2sgaXMgYSBtdXN0JywgJ3RvZGF5JyxcbiAgICAgICAgICAgICdtZWRpdW0nLCB0aGlzLnRvRG9MaXN0LmdldFByb2plY3QoJ0luYm94JykudGFza3MubGVuZ3RoXG4gICAgICAgICkpO1xuICAgICAgICBcbiAgICAgICAgLy8gZ2V0IHRoZSB0YXNrIGZyb20gaW5ib3hcbiAgICAgICAgZm9yKGxldCB0YXNrIG9mIHRoaXMudG9Eb0xpc3QuZ2V0UHJvamVjdCgnSW5ib3gnKS50YXNrcykge1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrVUkodGFzayk7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrRGlzcGxheSA9IG5ld1Rhc2suZHJhdygpXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcHJvamVjdERpc3BsYXkgPSBuZXcgUHJvamVjdFVJKHRoaXMudG9Eb0xpc3QuZ2V0UHJvamVjdCgnSW5ib3gnKSk7XG4gICAgICAgIHByb2plY3REaXNwbGF5LmRyYXcoKTtcblxuXG4gICAgICAgIHRoaXMubG9hZFNpZGVCYXIoKTtcbiAgICB9XG5cbiAgICAvKiBTaWRlQmFyIGZ1bmN0aW9uYWxpdGllcyAqL1xuICAgIGxvYWRTaWRlQmFyKCkge1xuICAgICAgICB0aGlzLmFkZFNsaWRlSW5PdXQoKTtcbiAgICAgICAgdGhpcy5kcmF3SW5ib3hUYWJzKCk7XG4gICAgICAgIHRoaXMuZHJhd1Byb2plY3RUYWJzKCk7XG4gICAgfVxuXG4gICAgZHJhd0luYm94VGFicygpIHtcbiAgICAgICAgLy8gQWRkIHRvZGF5IGFuZCB0aGlzIHdlZWsncyB0YXNrIGJlbmVhdGggSW5ib3ggdGFiIHNpZGViYXIuXG4gICAgICAgIGNvbnN0IGluYm94VGFicyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG5cbiAgICAgICAgdGhpcy5hZGRUYWIoaW5ib3hUYWJzLCAnVG9kYXknKTtcbiAgICAgICAgdGhpcy5hZGRUYWIoaW5ib3hUYWJzLCAnVGhpcyBXZWVrJyk7XG5cbiAgICAgICAgY29uc3QgaW5ib3hCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5ib3gtYmFyJyk7XG4gICAgICAgIGluYm94QmFyLmFwcGVuZENoaWxkKGluYm94VGFicyk7XG4gICAgICAgIHRoaXMuYWRkRHJvcERvd25NZW51KGluYm94QmFyLCBpbmJveFRhYnMpXG4gICAgfTtcblxuICAgIGRyYXdQcm9qZWN0VGFicygpIHtcbiAgICAgICAgLy8gRmluZCBhbGwgb3RoZXIgcHJvamVjdHMuXG4gICAgICAgIGNvbnN0IGluYm94UHJvamVjdHMgPSBbJ0luYm94JywgJ1RvZGF5JywgJ1RoaXMgV2VlayddXG4gICAgICAgIGNvbnN0IGN1c3RvbVByb2plY3RzID0gdGhpcy50b0RvTGlzdC5wcm9qZWN0cy5maWx0ZXIoXG4gICAgICAgICAgICBwcm9qZWN0ID0+ICFpbmJveFByb2plY3RzLmluY2x1ZGVzKHByb2plY3QubmFtZSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdFRhYnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgICBmb3IobGV0IHByb2plY3Qgb2YgY3VzdG9tUHJvamVjdHMpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVGFiKHByb2plY3RUYWJzLCBwcm9qZWN0Lm5hbWUpXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcHJvamVjdEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWJhcicpO1xuICAgICAgICBwcm9qZWN0QmFyLmFwcGVuZENoaWxkKHByb2plY3RUYWJzKTtcbiAgICAgICAgdGhpcy5hZGREcm9wRG93bk1lbnUocHJvamVjdEJhciwgcHJvamVjdFRhYnMpO1xuICAgIH1cblxuXG4gICAgYWRkRHJvcERvd25NZW51KG1lbnVCYXIsIHRhYnMpIHtcbiAgICAgICAgLy8gVGFicyB3aWxsIGJlIGVsb25nYXRlZCBiYXNlZCBvbiB0YWIgaG92ZXJlZC5cbiAgICAgICAgbWVudUJhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICB0YWJzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH0pO1xuICAgICAgICBtZW51QmFyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgdGFicy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH0pXG4gICAgfVxuICAgIGFkZFRhYihtZW51VGFiLCBwcm9qZWN0TmFtZSkge1xuICAgICAgICAvLyBDcmVhdGUgbGkgYW5kIGFwcGVuZCBpdCB0byBnaXZlbiBwYXJhbSBlbGVtLlxuICAgICAgICBjb25zdCB0YWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBcbiAgICAgICAgdGFiLnRleHRDb250ZW50ID0gdGhpcy50b0RvTGlzdC5nZXRQcm9qZWN0KHByb2plY3ROYW1lKS5uYW1lO1xuICAgICAgICBtZW51VGFiLmFwcGVuZENoaWxkKHRhYik7XG4gICAgfVxuXG4gICAgYWRkU2xpZGVJbk91dCgpIHtcbiAgICAgICAgY29uc3Qgc2lkZUJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlQmFyJyk7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsSWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWF0ZXJpYWwtaWNvbnMnKTtcbiAgICAgICAgY29uc3QgaWNvblRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaWNvbi10ZXh0Jyk7XG4gICAgICAgIHNpZGVCYXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgc2lkZUJhci5zdHlsZS53aWR0aCA9ICcyMDBweCc7XG4gICAgICAgIH0pO1xuICAgICAgICBzaWRlQmFyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgc2lkZUJhci5zdHlsZS53aWR0aCA9ICc2NXB4JztcbiAgICAgICAgfSk7XG5cbiAgICB9O1xufTtcbiJdLCJuYW1lcyI6WyJUYXNrIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJpZCIsInRoaXMiLCJ2YWx1ZSIsIl9uYW1lIiwiX2lkIiwiX3ByaW9yaXR5IiwiX2Rlc2NyaXB0aW9uIiwiX2R1ZURhdGUiLCJkdWVEYXRlRm9ybWF0dGVkIiwic3BsaXQiLCJQcm9qZWN0IiwidGFza3MiLCJfdGFza3MiLCJhZGRUYXNrIiwidGFzayIsInB1c2giLCJkZWxldGVUYXNrIiwidGFza0lkIiwiZmlsdGVyIiwiZ2V0SWQiLCJBbGxQcm9qZWN0cyIsInByb2plY3RzIiwiX3Byb2plY3RzIiwiY29udGFpbnMiLCJwcm9qZWN0TmFtZSIsInNvbWUiLCJwcm9qZWN0IiwiZ2V0UHJvamVjdCIsImZpbmQiLCJhZGRQcm9qZWN0IiwibmV3UHJvamVjdE5hbWUiLCJkZWxldGVQcm9qZWN0IiwicHJvamVjdFRvRGVsZXRlIiwic3BsaWNlIiwiaW5kZXhPZiIsIlRhc2tVSSIsInRhc2tPYmoiLCJyZW5kZXJJbmZvIiwiZWxlbSIsImFkZGVkQ2xhc3MiLCJ0ZXh0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJjcmVhdGVFbGVtZW50cyIsInRhc2tDb250YWluZXIiLCJzdGF0dXNDaGVjayIsInNldEF0dHJpYnV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInRhcmdldCIsImNoZWNrZWQiLCJzdHlsZSIsIm9wYWNpdHkiLCJkZXRhaWxzQnRuIiwicHJpb3JpdHlJY29uIiwiYXBwZW5kQ2hpbGQiLCJ0aW1lRWxhcHNlZCIsIkRhdGUiLCJub3ciLCJ0b2RheSIsImRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJlZGl0IiwiZWRpdEljb24iLCJ0YXNrRGVsIiwiZGVsSWNvbiIsImRyYXciLCJlbGVtcyIsIlByb2plY3RVSSIsInByb2plY3RPYmoiLCJtYWluQ29udGVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGVhciIsImRyYXdUYXNrcyIsImFkZFRhc2tGdW5jdGlvbiIsImFkZFRhc2tCdG4iLCJjb250YWluZXIiLCJ0YXNrRGlzcGxheSIsImNvbnRlbnQiLCJpbm5lckhUTUwiLCJjb21wbGV0ZVRhc2siLCJnZXRFbGVtZW50QnlJZCIsInRvRG9MaXN0IiwibG9hZEhvbWVQYWdlIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsImxvYWRTaWRlQmFyIiwiYWRkU2xpZGVJbk91dCIsImRyYXdJbmJveFRhYnMiLCJkcmF3UHJvamVjdFRhYnMiLCJpbmJveFRhYnMiLCJhZGRUYWIiLCJpbmJveEJhciIsImFkZERyb3BEb3duTWVudSIsImluYm94UHJvamVjdHMiLCJjdXN0b21Qcm9qZWN0cyIsImluY2x1ZGVzIiwicHJvamVjdFRhYnMiLCJwcm9qZWN0QmFyIiwibWVudUJhciIsInRhYnMiLCJkaXNwbGF5IiwibWVudVRhYiIsInRhYiIsInNpZGVCYXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwid2lkdGgiXSwic291cmNlUm9vdCI6IiJ9